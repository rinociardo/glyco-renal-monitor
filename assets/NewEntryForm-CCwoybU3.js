import{u as M}from"./entriesStore-CHOMCKDn.js";import{d as F,r as a,w as c,b as U,e as P,f as e,k as y,y as S,l as C,F as G,m as R,x as V,p as A,z as $,g as x,A as E,_ as I}from"./index-BgeBt-Vw.js";function B(f){let b={severity:"bassa",suggestion:"Nessuna azione necessaria",rule_triggered:"nessuna"};return f.meal.glucose_post>180&&(b={severity:"media",suggestion:"Controllare lâ€™assunzione di carboidrati e monitorare la glicemia",rule_triggered:"glicemia post-prandiale > 180 mg/dL"}),f.renal.eGFR<60&&(b={severity:"alta",suggestion:"Consultare un nefrologo e monitorare la funzione renale",rule_triggered:"eGFR < 60"}),{...f,agent_feedback:b}}const O={class:"form-group"},T={class:"form-group"},q={class:"form-group"},Q={class:"form-group"},Y=F({__name:"MealSection",props:{carbs:{},glucosePre:{},glucosePost:{},insulinDose:{}},emits:["update:carbs","update:glucosePre","update:glucosePost","update:insulinDose"],setup(f,{emit:b}){const m=f,p=b,d=a(m.carbs),v=a(m.glucosePre),i=a(m.glucosePost),t=a(m.insulinDose);return c(d,o=>p("update:carbs",o)),c(v,o=>p("update:glucosePre",o)),c(i,o=>p("update:glucosePost",o)),c(t,o=>p("update:insulinDose",o)),(o,s)=>(P(),U("section",null,[s[12]||(s[12]=e("h3",null,"ðŸ½ï¸ Dati del pasto",-1)),e("div",O,[s[4]||(s[4]=e("label",{for:"carbs"},"Carboidrati (g)",-1)),y(e("input",{id:"carbs",type:"number","onUpdate:modelValue":s[0]||(s[0]=u=>d.value=u)},null,512),[[S,d.value]]),s[5]||(s[5]=e("small",null,"QuantitÃ  stimata di carboidrati consumati nel pasto.",-1))]),e("div",T,[s[6]||(s[6]=e("label",{for:"glucosePre"},"Glicemia pre-pasto (mg/dL)",-1)),y(e("input",{id:"glucosePre",type:"number","onUpdate:modelValue":s[1]||(s[1]=u=>v.value=u)},null,512),[[S,v.value]]),s[7]||(s[7]=e("small",null,"Misurata prima di iniziare a mangiare.",-1))]),e("div",q,[s[8]||(s[8]=e("label",{for:"glucosePost"},"Glicemia post-pasto (mg/dL)",-1)),y(e("input",{id:"glucosePost",type:"number","onUpdate:modelValue":s[2]||(s[2]=u=>i.value=u)},null,512),[[S,i.value]]),s[9]||(s[9]=e("small",null,"Misurata circa 2 ore dopo il pasto.",-1))]),e("div",Q,[s[10]||(s[10]=e("label",{for:"insulinDose"},"Dose di insulina (unitÃ )",-1)),y(e("input",{id:"insulinDose",type:"number","onUpdate:modelValue":s[3]||(s[3]=u=>t.value=u)},null,512),[[S,t.value]]),s[11]||(s[11]=e("small",null,"UnitÃ  somministrate in relazione al pasto.",-1))])]))}}),j={class:"form-group"},H={class:"form-group"},J=F({__name:"RenalSection",props:{creatinina:{},eGFR:{}},emits:["update:creatinina","update:eGFR"],setup(f,{emit:b}){const m=f,p=b,d=a(m.creatinina),v=a(m.eGFR);return c(d,i=>p("update:creatinina",i)),c(v,i=>p("update:eGFR",i)),(i,t)=>(P(),U("section",null,[t[6]||(t[6]=e("h3",null,"ðŸ§ª Parametri renali",-1)),e("div",j,[t[2]||(t[2]=e("label",{for:"creatinina"},"Creatinina (mg/dL)",-1)),y(e("input",{id:"creatinina",type:"number","onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o)},null,512),[[S,d.value]]),t[3]||(t[3]=e("small",null,"Valore sierico della creatinina, indicativo della funzione renale.",-1))]),e("div",H,[t[4]||(t[4]=e("label",{for:"eGFR"},"eGFR (ml/min/1.73mÂ²)",-1)),y(e("input",{id:"eGFR",type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>v.value=o)},null,512),[[S,v.value]]),t[5]||(t[5]=e("small",null,"Stima della velocitÃ  di filtrazione glomerulare.",-1))])]))}}),K={class:"form-group"},W=["value"],X=F({__name:"SymptomsSection",props:{symptoms:{},availableSymptoms:{}},emits:["update:symptoms"],setup(f,{emit:b}){const m=f,p=b,d=a([...m.symptoms]);c(d,i=>p("update:symptoms",i));function v(i){return{nausea:"Nausea",fatigue:"Affaticamento",polyuria:"Minzione frequente","blurred vision":"Visione offuscata"}[i]||i}return(i,t)=>(P(),U("section",null,[t[3]||(t[3]=e("h3",null,"ðŸ©º Sintomi",-1)),e("div",K,[t[1]||(t[1]=e("label",{for:"symptoms"},"Sintomi osservati",-1)),y(e("select",{id:"symptoms","onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),multiple:""},[(P(!0),U(G,null,R(i.availableSymptoms,o=>(P(),U("option",{key:o,value:o},V(v(o)),9,W))),128))],512),[[C,d.value]]),t[2]||(t[2]=e("small",null,"Seleziona uno o piÃ¹ sintomi presenti al momento dell'inserimento.",-1))])]))}}),Z={class:"option-group"},_={class:"checkbox-grid"},h=["value"],ee={class:"option-group"},te={class:"checkbox-grid"},se=["value"],le={class:"form-group"},oe={class:"form-group"},ne=F({__name:"ContextSection",props:{medications:{},activities:{},stressLevel:{},notes:{}},emits:["update:medications","update:activities","update:stressLevel","update:notes"],setup(f,{emit:b}){const m=b,p=f,d=["Metformina","Ramipril","Insulina","Aspirina","Lisinopril"],v=["Passeggiata","Allenamento leggero","Yoga","Lavoro manuale","Riposo"],i=a(p.medications),t=a(p.activities),o=a(p.stressLevel),s=a(p.notes);return c(i,u=>m("update:medications",u)),c(t,u=>m("update:activities",u)),c(o,u=>m("update:stressLevel",u)),c(s,u=>m("update:notes",u)),(u,l)=>(P(),U("section",null,[l[13]||(l[13]=e("h3",null,"ðŸ§  Contesto",-1)),e("div",Z,[l[4]||(l[4]=e("h4",null,[e("span",null,"ðŸ’Š Farmaci assunti ")],-1)),e("div",_,[(P(),U(G,null,R(d,g=>e("label",{key:g,class:"checkbox-item"},[y(e("input",{type:"checkbox",value:g,"onUpdate:modelValue":l[0]||(l[0]=L=>i.value=L)},null,8,h),[[$,i.value]]),A(" "+V(g),1)])),64))]),l[5]||(l[5]=e("small",null,"Seleziona uno o piÃ¹ farmaci assunti prima della rilevazione.",-1))]),e("div",ee,[l[6]||(l[6]=e("h4",null,[e("span",null,"ðŸƒ AttivitÃ  svolta")],-1)),e("div",te,[(P(),U(G,null,R(v,g=>e("label",{key:g,class:"checkbox-item"},[y(e("input",{type:"checkbox",value:g,"onUpdate:modelValue":l[1]||(l[1]=L=>t.value=L)},null,8,se),[[$,t.value]]),A(" "+V(g),1)])),64))]),l[7]||(l[7]=e("small",null,"AttivitÃ  fisica o comportamentale rilevante prima della misurazione.",-1))]),e("div",le,[l[9]||(l[9]=e("label",{for:"stressLevel"},"Livello di stress",-1)),y(e("select",{id:"stressLevel","onUpdate:modelValue":l[2]||(l[2]=g=>o.value=g)},[...l[8]||(l[8]=[e("option",{value:"basso"},"Basso",-1),e("option",{value:"moderato"},"Moderato",-1),e("option",{value:"alto"},"Alto",-1)])],512),[[C,o.value]]),l[10]||(l[10]=e("small",null,"Valutazione soggettiva dello stato emotivo.",-1))]),e("div",oe,[l[11]||(l[11]=e("label",{for:"notes"},"Note aggiuntive",-1)),y(e("textarea",{id:"notes","onUpdate:modelValue":l[3]||(l[3]=g=>s.value=g),rows:"3"},null,512),[[S,s.value]]),l[12]||(l[12]=e("small",null,"Osservazioni personali, sintesi del contesto.",-1))])]))}}),ie={class:"new-entry"},ae=F({__name:"NewEntryForm",setup(f){const b=M(),m=E(),p=a(new Date().toISOString()),d=a(null),v=a(null),i=a(null),t=a([]),o=a(""),s=a(null),u=a(null),l=a(null),g=a([]),L=a([]),k=a("moderato"),N=["nausea","fatigue","polyuria","blurred vision"];function w(){const z={entry_id:crypto.randomUUID(),timestamp:p.value,meal:{carbs:s.value??0,glucose_pre:u.value??0,glucose_post:d.value??0,insulin_dose:l.value??0},renal:{creatinine:v.value??0,eGFR:i.value??0},symptoms:t.value,context_notes:{medications:g.value,activities:L.value,stress_level:k.value,additional_notes:o.value},agent_feedback:null},n=B(z);b.addEntry(n),D(),m.push("/dashboard")}function D(){d.value=null,v.value=null,i.value=null,t.value=[],o.value="",s.value=null,u.value=null,l.value=null,g.value=[],L.value=[],k.value="moderato"}return(z,n)=>(P(),U("div",ie,[n[11]||(n[11]=e("h2",null,"ðŸ“ Nuovo Inserimento",-1)),x(Y,{carbs:s.value,"onUpdate:carbs":n[0]||(n[0]=r=>s.value=r),glucosePre:u.value,"onUpdate:glucosePre":n[1]||(n[1]=r=>u.value=r),glucosePost:d.value,"onUpdate:glucosePost":n[2]||(n[2]=r=>d.value=r),insulinDose:l.value,"onUpdate:insulinDose":n[3]||(n[3]=r=>l.value=r)},null,8,["carbs","glucosePre","glucosePost","insulinDose"]),x(J,{creatinina:v.value,"onUpdate:creatinina":n[4]||(n[4]=r=>v.value=r),eGFR:i.value,"onUpdate:eGFR":n[5]||(n[5]=r=>i.value=r)},null,8,["creatinina","eGFR"]),x(X,{symptoms:t.value,"onUpdate:symptoms":n[6]||(n[6]=r=>t.value=r),availableSymptoms:N},null,8,["symptoms"]),x(ne,{medications:g.value,"onUpdate:medications":n[7]||(n[7]=r=>g.value=r),activities:L.value,"onUpdate:activities":n[8]||(n[8]=r=>L.value=r),stressLevel:k.value,"onUpdate:stressLevel":n[9]||(n[9]=r=>k.value=r),notes:o.value,"onUpdate:notes":n[10]||(n[10]=r=>o.value=r)},null,8,["medications","activities","stressLevel","notes"]),e("button",{class:"btn-save",onClick:w},"SALVA"),e("button",{class:"btn-cancel",onClick:D},"ANNULLA")]))}}),de=I(ae,[["__scopeId","data-v-bf91b8c8"]]);export{de as default};
